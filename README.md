# 株主還元率分析ツール

配当と自社株買いを組み合わせた真の株主還元率を分析するWebアプリケーション

## 概要

このツールは、企業の配当利回りだけでなく自社株買いも考慮した「真の株主還元率」を計算します。多くの企業では自社株買いが配当と同様に重要な株主還元手段となっているため、両方を合わせて評価することで、より正確な株主還元力を把握できます。

## 機能

- **リアルタイムデータ取得**: Yahoo Finance APIから最新の財務データを取得
- **過去3年分析**: 過去3年間の詳細な株主還元データを年度別に表示
- **計算根拠表示**: 各利回りの計算過程を明確に表示
- **美しいUI**: レスポンシブ対応のモダンなWebインターフェース

## 分析内容

各年度について以下を表示：

1. **配当**
   - 年間配当総額
   - 配当利回り
   - 計算根拠

2. **自社株買い**
   - 自社株買い額
   - 自社株買い相当利回り
   - 計算根拠

3. **総合株主還元率**
   - 配当利回り + 自社株買い相当利回り

## セットアップ

### 必要なライブラリをインストール
```bash
pip install -r requirements.txt
```

### Webアプリケーションを起動
```bash
python3 app.py
```

### コマンドライン版を実行
```bash
python3 stock_analysis.py
```

## 使用例

### Webアプリ
1. ブラウザで http://localhost:8080 にアクセス
2. ティッカーコード（例：AAPL, MSFT, GOOGL）を入力
3. 分析結果が表形式で表示

### コマンドライン
```bash
python3 stock_analysis.py
# ティッカーコードを入力してエンター
```

## テスト推奨銘柄

- **AAPL** (Apple) - 大規模な自社株買いで有名
- **MSFT** (Microsoft) - 配当と自社株買いのバランス型
- **JNJ** (Johnson & Johnson) - 高配当銘柄の代表例

## ファイル構成

- `app.py` - Flask Webアプリケーション
- `stock_analysis.py` - 株式分析エンジン
- `templates/index.html` - Webインターフェース
- `requirements.txt` - 必要なライブラリ一覧

## データソース

- Yahoo Finance API (yfinance ライブラリ経由)
- キャッシュフロー計算書から配当支払額と自社株買い額を取得

## 注意事項

- このツールは投資判断の参考として提供されており、投資アドバイスではありません
- データの正確性については最善を尽くしていますが、投資判断は自己責任で行ってください
- 一部の銘柄では財務データが取得できない場合があります

## ライセンス

MIT License